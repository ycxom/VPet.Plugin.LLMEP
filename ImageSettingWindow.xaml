<pu:WindowX x:Class="VPet.Plugin.Image.ImageSettingWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:pu="clr-namespace:Panuon.WPF.UI;assembly=Panuon.WPF.UI"
        mc:Ignorable="d"
        Title="LLMè¡¨æƒ…åŒ…æ’ä»¶è®¾ç½®" 
        Width="700" Height="600"
        WindowStartupLocation="CenterOwner"
        ShowInTaskbar="False"
        Style="{DynamicResource BaseWindowXStyle}"
        FontSize="14"
        Foreground="{StaticResource PrimaryText}">
    
    <Window.Resources>
        <!-- çŽ°ä»£åŒ– Tab æ ·å¼ -->
        <Style x:Key="ModernTabControl" TargetType="TabControl">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="0"/>
        </Style>

        <Style x:Key="ModernTabItem" TargetType="TabItem">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="#666666"/>
            <Setter Property="FontSize" Value="15"/>
            <Setter Property="FontWeight" Value="Normal"/>
            <Setter Property="Padding" Value="20,12"/>
            <Setter Property="Margin" Value="0,0,4,0"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TabItem">
                        <Border x:Name="Border"
                                Background="{TemplateBinding Background}"
                                BorderThickness="0,0,0,3"
                                BorderBrush="Transparent"
                                CornerRadius="4,4,0,0"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter x:Name="ContentSite"
                                            VerticalAlignment="Center"
                                            HorizontalAlignment="Center"
                                            ContentSource="Header"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#F5F5F5"/>
                                <Setter TargetName="Border" Property="BorderBrush" Value="#0078D4"/>
                                <Setter Property="Foreground" Value="#0078D4"/>
                                <Setter Property="FontWeight" Value="SemiBold"/>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#F0F0F0"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- è®¾ç½®å¡ç‰‡æ ·å¼ -->
        <Style x:Key="SettingCard" TargetType="Border">
            <Setter Property="Background" Value="White"/>
            <Setter Property="BorderBrush" Value="#E0E0E0"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="8"/>
            <Setter Property="Padding" Value="20"/>
            <Setter Property="Margin" Value="0,0,0,16"/>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect Color="#000000" Opacity="0.05" BlurRadius="8" ShadowDepth="2" Direction="270"/>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- æ ‡é¢˜æ ·å¼ -->
        <Style x:Key="SectionTitle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Foreground" Value="#333333"/>
            <Setter Property="Margin" Value="0,0,0,12"/>
        </Style>

        <!-- æè¿°æ–‡æœ¬æ ·å¼ -->
        <Style x:Key="DescriptionText" TargetType="TextBlock">
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Foreground" Value="#999999"/>
            <Setter Property="TextWrapping" Value="Wrap"/>
            <Setter Property="LineHeight" Value="18"/>
        </Style>

        <!-- çŽ°ä»£åŒ–æŒ‰é’®æ ·å¼ -->
        <Style x:Key="PrimaryButton" TargetType="Button">
            <Setter Property="Background" Value="#0078D4"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="20,10"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="Medium"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border"
                                Background="{TemplateBinding Background}"
                                CornerRadius="6"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#005A9E"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#004578"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="SecondaryButton" TargetType="Button">
            <Setter Property="Background" Value="#F3F3F3"/>
            <Setter Property="Foreground" Value="#333333"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="#D0D0D0"/>
            <Setter Property="Padding" Value="20,10"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="6"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#E8E8E8"/>
                                <Setter TargetName="border" Property="BorderBrush" Value="#B0B0B0"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#D8D8D8"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>
    
    <Grid Background="#FAFAFA">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- TabControl -->
        <TabControl Grid.Row="1" 
                    Style="{StaticResource ModernTabControl}"
                    Margin="0,0,0,0">
            <!-- åŸºæœ¬è®¾ç½® Tab -->
            <TabItem Header="âš™ï¸ åŸºæœ¬è®¾ç½®" Style="{StaticResource ModernTabItem}">
                <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="24,20">
                    <StackPanel>
                        <!-- åŠŸèƒ½å¼€å…³å¡ç‰‡ -->
                        <Border Style="{StaticResource SettingCard}">
                            <StackPanel>
                                <TextBlock Text="åŠŸèƒ½å¼€å…³" Style="{StaticResource SectionTitle}"/>
                                
                                <!-- å¯ç”¨æ’ä»¶ -->
                                <Grid Margin="0,0,0,16">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <StackPanel Grid.Column="0">
                                        <TextBlock Text="å¯ç”¨æ’ä»¶" 
                                                 FontSize="14" 
                                                 FontWeight="Medium" 
                                                 Foreground="#333333"/>
                                        <TextBlock Text="å¼€å¯åŽå°†æ ¹æ®æ¡Œå® å¿ƒæƒ…è‡ªåŠ¨æ˜¾ç¤ºè¡¨æƒ…åŒ…" 
                                                 Style="{StaticResource DescriptionText}"
                                                 Margin="0,4,0,0"/>
                                    </StackPanel>
                                    <pu:Switch x:Name="SwitchEnabled" 
                                             Grid.Column="1"
                                             Background="Transparent"
                                             BorderBrush="#D0D0D0"
                                             BoxHeight="24" 
                                             BoxWidth="48"
                                             CheckedBackground="#0078D4"
                                             CheckedBorderBrush="#0078D4"
                                             CheckedToggleBrush="White"
                                             ToggleBrush="#999999"
                                             ToggleShadowColor="{x:Null}"
                                             ToggleSize="20"
                                             Checked="SwitchEnabled_Changed"
                                             Unchecked="SwitchEnabled_Changed"
                                             VerticalAlignment="Center"/>
                                </Grid>

                                <!-- å¯ç”¨å†…ç½®è¡¨æƒ…åŒ… -->
                                <Grid Margin="0,0,0,16">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <StackPanel Grid.Column="0">
                                        <TextBlock Text="å¯ç”¨å†…ç½®è¡¨æƒ…åŒ…" 
                                                 FontSize="14" 
                                                 FontWeight="Medium" 
                                                 Foreground="#333333"/>
                                        <TextBlock Text="ä½¿ç”¨æ’ä»¶è‡ªå¸¦çš„é»˜è®¤è¡¨æƒ…åŒ…ï¼ˆVPet_Expressionæ–‡ä»¶å¤¹ï¼‰" 
                                                 Style="{StaticResource DescriptionText}"
                                                 Margin="0,4,0,0"/>
                                    </StackPanel>
                                    <pu:Switch x:Name="SwitchBuiltInImages" 
                                             Grid.Column="1"
                                             Background="Transparent"
                                             BorderBrush="#D0D0D0"
                                             BoxHeight="24" 
                                             BoxWidth="48"
                                             CheckedBackground="#0078D4"
                                             CheckedBorderBrush="#0078D4"
                                             CheckedToggleBrush="White"
                                             ToggleBrush="#999999"
                                             ToggleShadowColor="{x:Null}"
                                             ToggleSize="20"
                                             Checked="SwitchBuiltInImages_Changed"
                                             Unchecked="SwitchBuiltInImages_Changed"
                                             VerticalAlignment="Center"/>
                                </Grid>

                                <!-- å¯ç”¨DIYè¡¨æƒ…åŒ… -->
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <StackPanel Grid.Column="0">
                                        <TextBlock Text="å¯ç”¨DIYè¡¨æƒ…åŒ…" 
                                                 FontSize="14" 
                                                 FontWeight="Medium" 
                                                 Foreground="#333333"/>
                                        <TextBlock Text="ä½¿ç”¨è‡ªå®šä¹‰è¡¨æƒ…åŒ…ï¼ˆDIY_Expressionæ–‡ä»¶å¤¹ï¼‰" 
                                                 Style="{StaticResource DescriptionText}"
                                                 Margin="0,4,0,0"/>
                                    </StackPanel>
                                    <pu:Switch x:Name="SwitchDIYImages" 
                                             Grid.Column="1"
                                             Background="Transparent"
                                             BorderBrush="#D0D0D0"
                                             BoxHeight="24" 
                                             BoxWidth="48"
                                             CheckedBackground="#0078D4"
                                             CheckedBorderBrush="#0078D4"
                                             CheckedToggleBrush="White"
                                             ToggleBrush="#999999"
                                             ToggleShadowColor="{x:Null}"
                                             ToggleSize="20"
                                             Checked="SwitchDIYImages_Changed"
                                             Unchecked="SwitchDIYImages_Changed"
                                             VerticalAlignment="Center"/>
                                </Grid>
                            </StackPanel>
                        </Border>

                        <!-- æ—¶é—´è§¦å‘è®¾ç½®å¡ç‰‡ -->
                        <Border x:Name="PanelTimeTrigger" Style="{StaticResource SettingCard}">
                            <StackPanel>
                                <!-- æ—¶é—´è§¦å‘å¼€å…³ -->
                                <Grid Margin="0,0,0,20">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <StackPanel Grid.Column="0">
                                        <TextBlock Text="â° æ—¶é—´è§¦å‘" 
                                                 FontSize="16" 
                                                 FontWeight="SemiBold" 
                                                 Foreground="#333333"/>
                                        <TextBlock Text="æ ¹æ®è®¾å®šçš„æ—¶é—´é—´éš”è‡ªåŠ¨æ˜¾ç¤ºè¡¨æƒ…åŒ…" 
                                                 Style="{StaticResource DescriptionText}"
                                                 Margin="0,4,0,0"/>
                                    </StackPanel>
                                    <pu:Switch x:Name="SwitchTimeTrigger" 
                                             Grid.Column="1"
                                             Background="Transparent"
                                             BorderBrush="#D0D0D0"
                                             BoxHeight="24" 
                                             BoxWidth="48"
                                             CheckedBackground="#0078D4"
                                             CheckedBorderBrush="#0078D4"
                                             CheckedToggleBrush="White"
                                             ToggleBrush="#999999"
                                             ToggleShadowColor="{x:Null}"
                                             ToggleSize="20"
                                             Checked="SwitchTimeTrigger_Changed"
                                             Unchecked="SwitchTimeTrigger_Changed"
                                             VerticalAlignment="Center"/>
                                </Grid>

                                <!-- æ—¶é—´è§¦å‘å…·ä½“è®¾ç½® -->
                                <StackPanel x:Name="TimeTriggerSettings">
                                    <!-- æ˜¾ç¤ºæ—¶é•¿ -->
                                    <StackPanel Margin="0,0,0,20">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>
                                            <TextBlock Grid.Column="0"
                                                     Text="æ˜¾ç¤ºæ—¶é•¿" 
                                                     FontSize="14" 
                                                     FontWeight="Medium" 
                                                     Foreground="#333333"
                                                     VerticalAlignment="Center"/>
                                            <TextBlock Grid.Column="1"
                                                     Text="{Binding ElementName=SliderDisplayDuration, Path=Value, StringFormat={}{0:F0} ç§’}" 
                                                     FontSize="14"
                                                     FontWeight="SemiBold"
                                                     Foreground="#0078D4"
                                                     VerticalAlignment="Center"
                                                     MinWidth="60"
                                                     TextAlignment="Right"/>
                                        </Grid>
                                        <Slider x:Name="SliderDisplayDuration" 
                                              Minimum="1" 
                                              Maximum="10" 
                                              TickFrequency="1" 
                                              IsSnapToTickEnabled="True"
                                              ValueChanged="SliderDisplayDuration_ValueChanged"
                                              Margin="0,8,0,0"
                                              Height="32"/>
                                        <TextBlock Text="è¡¨æƒ…åŒ…åœ¨å±å¹•ä¸Šæ˜¾ç¤ºçš„æ—¶é•¿" 
                                                 Style="{StaticResource DescriptionText}"
                                                 Margin="0,4,0,0"/>
                                    </StackPanel>

                                    <!-- æ˜¾ç¤ºé—´éš” -->
                                    <StackPanel Margin="0,0,0,16">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>
                                            <TextBlock Grid.Column="0"
                                                     Text="æ˜¾ç¤ºé—´éš”" 
                                                     FontSize="14" 
                                                     FontWeight="Medium" 
                                                     Foreground="#333333"
                                                     VerticalAlignment="Center"/>
                                            <TextBlock Grid.Column="1"
                                                     Text="{Binding ElementName=SliderDisplayInterval, Path=Value, StringFormat={}{0:F0} åˆ†é’Ÿ}" 
                                                     FontSize="14"
                                                     FontWeight="SemiBold"
                                                     Foreground="#0078D4"
                                                     VerticalAlignment="Center"
                                                     MinWidth="80"
                                                     TextAlignment="Right"/>
                                        </Grid>
                                        <Slider x:Name="SliderDisplayInterval" 
                                              Minimum="1" 
                                              Maximum="60" 
                                              TickFrequency="1" 
                                              IsSnapToTickEnabled="True"
                                              ValueChanged="SliderDisplayInterval_ValueChanged"
                                              Margin="0,8,0,0"
                                              Height="32"/>
                                        <TextBlock Text="ä¸¤æ¬¡æ˜¾ç¤ºè¡¨æƒ…åŒ…ä¹‹é—´çš„æ—¶é—´é—´éš”" 
                                                 Style="{StaticResource DescriptionText}"
                                                 Margin="0,4,0,0"/>
                                    </StackPanel>

                                    <!-- éšæœºé—´éš” -->
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <StackPanel Grid.Column="0">
                                            <TextBlock Text="éšæœºé—´éš”" 
                                                     FontSize="14" 
                                                     FontWeight="Medium" 
                                                     Foreground="#333333"/>
                                            <TextBlock Text="å¼€å¯åŽæ˜¾ç¤ºé—´éš”å°†åœ¨è®¾å®šå€¼çš„ 50%-150% ä¹‹é—´éšæœºå˜åŒ–" 
                                                     Style="{StaticResource DescriptionText}"
                                                     Margin="0,4,0,0"/>
                                        </StackPanel>
                                        <pu:Switch x:Name="SwitchRandomInterval" 
                                                 Grid.Column="1"
                                                 Background="Transparent"
                                                 BorderBrush="#D0D0D0"
                                                 BoxHeight="24" 
                                                 BoxWidth="48"
                                                 CheckedBackground="#0078D4"
                                                 CheckedBorderBrush="#0078D4"
                                                 CheckedToggleBrush="White"
                                                 ToggleBrush="#999999"
                                                 ToggleShadowColor="{x:Null}"
                                                 ToggleSize="20"
                                                 Checked="SwitchRandomInterval_Changed"
                                                 Unchecked="SwitchRandomInterval_Changed"
                                                 VerticalAlignment="Center"/>
                                    </Grid>
                                </StackPanel>
                            </StackPanel>
                        </Border>

                        <!-- æ°”æ³¡è§¦å‘è®¾ç½®å¡ç‰‡ -->
                        <Border x:Name="PanelBubbleTrigger" Style="{StaticResource SettingCard}">
                            <StackPanel>
                                <!-- æ°”æ³¡è§¦å‘å¼€å…³ -->
                                <Grid Margin="0,0,0,20">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <StackPanel Grid.Column="0">
                                        <TextBlock Text="ðŸ’¬ æ°”æ³¡è§¦å‘" 
                                                 FontSize="16" 
                                                 FontWeight="SemiBold" 
                                                 Foreground="#333333"/>
                                        <TextBlock Text="æ ¹æ®VPetè¯´è¯æ¦‚çŽ‡è§¦å‘è¡¨æƒ…åŒ…æ˜¾ç¤º" 
                                                 Style="{StaticResource DescriptionText}"
                                                 Margin="0,4,0,0"/>
                                    </StackPanel>
                                    <pu:Switch x:Name="SwitchBubbleTrigger" 
                                             Grid.Column="1"
                                             Background="Transparent"
                                             BorderBrush="#D0D0D0"
                                             BoxHeight="24" 
                                             BoxWidth="48"
                                             CheckedBackground="#0078D4"
                                             CheckedBorderBrush="#0078D4"
                                             CheckedToggleBrush="White"
                                             ToggleBrush="#999999"
                                             ToggleShadowColor="{x:Null}"
                                             ToggleSize="20"
                                             Checked="SwitchBubbleTrigger_Changed"
                                             Unchecked="SwitchBubbleTrigger_Changed"
                                             VerticalAlignment="Center"/>
                                </Grid>

                                <!-- æ°”æ³¡è§¦å‘å…·ä½“è®¾ç½® -->
                                <StackPanel x:Name="BubbleTriggerSettings">
                                    <!-- æ°”æ³¡è§¦å‘æ¦‚çŽ‡ -->
                                    <StackPanel>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>
                                            <TextBlock Grid.Column="0"
                                                     Text="è§¦å‘æ¦‚çŽ‡" 
                                                     FontSize="14" 
                                                     FontWeight="Medium" 
                                                     Foreground="#333333"
                                                     VerticalAlignment="Center"/>
                                            <TextBlock Grid.Column="1"
                                                     Text="{Binding ElementName=SliderBubbleTriggerProbability, Path=Value, StringFormat={}{0:F0}%}" 
                                                     FontSize="14"
                                                     FontWeight="SemiBold"
                                                     Foreground="#0078D4"
                                                     VerticalAlignment="Center"
                                                     MinWidth="60"
                                                     TextAlignment="Right"/>
                                        </Grid>
                                        <Slider x:Name="SliderBubbleTriggerProbability" 
                                              Minimum="1" 
                                              Maximum="100" 
                                              TickFrequency="1" 
                                              IsSnapToTickEnabled="True"
                                              ValueChanged="SliderBubbleTriggerProbability_ValueChanged"
                                              Margin="0,8,0,0"
                                              Height="32"/>
                                        <TextBlock Text="VPetæ¯æ¬¡è¯´è¯æ—¶æ˜¾ç¤ºè¡¨æƒ…åŒ…çš„æ¦‚çŽ‡ï¼ˆç™¾åˆ†æ¯”ï¼‰" 
                                                 Style="{StaticResource DescriptionText}"
                                                 Margin="0,4,0,0"/>
                                    </StackPanel>
                                </StackPanel>
                            </StackPanel>
                        </Border>

                        <!-- è¡¨æƒ…åŒ…ç›®å½•å¡ç‰‡ -->
                        <Border Style="{StaticResource SettingCard}">
                            <StackPanel>
                                <TextBlock Text="è¡¨æƒ…åŒ…ç›®å½•" Style="{StaticResource SectionTitle}"/>
                                <TextBlock x:Name="TextBlockImagePath" 
                                         Text="DIY_Expression/" 
                                         FontSize="13"
                                         FontFamily="Consolas"
                                         Foreground="#666666"
                                         Background="#F5F5F5"
                                         Padding="12,8"
                                         TextWrapping="Wrap"
                                         Margin="0,0,0,12"/>
                                <Button x:Name="ButtonOpenFolder"
                                        Content="ðŸ“ æ‰“å¼€è¡¨æƒ…åŒ…æ–‡ä»¶å¤¹"
                                        Style="{StaticResource SecondaryButton}"
                                        Click="ButtonOpenFolder_Click"
                                        HorizontalAlignment="Left"/>
                                <TextBlock Text="å°†è¡¨æƒ…åŒ…å›¾ç‰‡ï¼ˆPNG/JPG/GIFï¼‰æ”¾å…¥å¯¹åº”å¿ƒæƒ…çš„æ–‡ä»¶å¤¹ï¼šHappyï¼ˆå¼€å¿ƒï¼‰ã€Normalï¼ˆæ­£å¸¸ï¼‰ã€PoorConditionï¼ˆçŠ¶æ€ä¸ä½³ï¼‰ã€Illï¼ˆç”Ÿç—…ï¼‰" 
                                         Style="{StaticResource DescriptionText}"
                                         Margin="0,12,0,0"/>
                            </StackPanel>
                        </Border>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>

            <!-- è°ƒè¯• Tab -->
            <TabItem Header="ðŸ”§ è°ƒè¯•" Style="{StaticResource ModernTabItem}">
                <Grid Margin="24,20">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="16"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="16"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="16"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    
                    <!-- è°ƒè¯•æ¨¡å¼å¼€å…³å¡ç‰‡ -->
                    <Border Grid.Row="0" Style="{StaticResource SettingCard}" Margin="0">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <StackPanel Grid.Column="0">
                                <TextBlock Text="è°ƒè¯•æ¨¡å¼" 
                                         FontSize="14" 
                                         FontWeight="Medium" 
                                         Foreground="#333333"/>
                                <TextBlock Text="å¼€å¯åŽå°†è¾“å‡ºè¯¦ç»†çš„è°ƒè¯•æ—¥å¿—åˆ°æŽ§åˆ¶å°" 
                                         Style="{StaticResource DescriptionText}"
                                         Margin="0,4,0,0"/>
                            </StackPanel>
                            <pu:Switch x:Name="SwitchDebugMode" 
                                     Grid.Column="1"
                                     Background="Transparent"
                                     BorderBrush="#D0D0D0"
                                     BoxHeight="24" 
                                     BoxWidth="48"
                                     CheckedBackground="#0078D4"
                                     CheckedBorderBrush="#0078D4"
                                     CheckedToggleBrush="White"
                                     ToggleBrush="#999999"
                                     ToggleShadowColor="{x:Null}"
                                     ToggleSize="20"
                                     Checked="SwitchDebugMode_Changed"
                                     Unchecked="SwitchDebugMode_Changed"
                                     VerticalAlignment="Center"/>
                        </Grid>
                    </Border>

                    <!-- æ—¥å¿—ç­‰çº§æŽ§åˆ¶å¡ç‰‡ -->
                    <Border Grid.Row="2" Style="{StaticResource SettingCard}" Margin="0">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="12"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            
                            <!-- æ—¥å¿—ç­‰çº§é€‰æ‹© -->
                            <StackPanel Grid.Row="0">
                                <TextBlock Text="æ—¥å¿—ç­‰çº§" 
                                         FontSize="14" 
                                         FontWeight="Medium" 
                                         Foreground="#333333"/>
                                <TextBlock Text="é€‰æ‹©è¦æ˜¾ç¤ºçš„æœ€ä½Žæ—¥å¿—ç­‰çº§" 
                                         Style="{StaticResource DescriptionText}"
                                         Margin="0,4,0,0"/>
                            </StackPanel>
                            
                            <ComboBox x:Name="ComboBoxLogLevel" 
                                    Grid.Row="0"
                                    HorizontalAlignment="Right"
                                    VerticalAlignment="Center"
                                    Width="120"
                                    SelectionChanged="ComboBoxLogLevel_SelectionChanged">
                                <ComboBoxItem Content="Debug" Tag="0"/>
                                <ComboBoxItem Content="Info" Tag="1"/>
                                <ComboBoxItem Content="Warning" Tag="2"/>
                                <ComboBoxItem Content="Error" Tag="3"/>
                            </ComboBox>
                            
                            <!-- æ–‡ä»¶æ—¥å¿—å¼€å…³ -->
                            <Grid Grid.Row="2">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0">
                                    <TextBlock Text="æ–‡ä»¶æ—¥å¿—" 
                                             FontSize="14" 
                                             FontWeight="Medium" 
                                             Foreground="#333333"/>
                                    <TextBlock Text="å°†æ—¥å¿—ä¿å­˜åˆ°æ–‡ä»¶" 
                                             Style="{StaticResource DescriptionText}"
                                             Margin="0,4,0,0"/>
                                </StackPanel>
                                <pu:Switch x:Name="SwitchFileLogging" 
                                         Grid.Column="1"
                                         Background="Transparent"
                                         BorderBrush="#D0D0D0"
                                         BoxHeight="24" 
                                         BoxWidth="48"
                                         CheckedBackground="#0078D4"
                                         CheckedBorderBrush="#0078D4"
                                         CheckedToggleBrush="White"
                                         ToggleBrush="#999999"
                                         ToggleShadowColor="{x:Null}"
                                         ToggleSize="20"
                                         Checked="SwitchFileLogging_Changed"
                                         Unchecked="SwitchFileLogging_Changed"
                                         VerticalAlignment="Center"/>
                            </Grid>
                        </Grid>
                    </Border>

                    <!-- æ—¥å¿—æ˜¾ç¤ºåŒºåŸŸ -->
                    <Border Grid.Row="4" 
                            Background="White"
                            BorderBrush="#E0E0E0" 
                            BorderThickness="1" 
                            CornerRadius="8">
                        <Border.Effect>
                            <DropShadowEffect Color="#000000" Opacity="0.05" BlurRadius="8" ShadowDepth="2" Direction="270"/>
                        </Border.Effect>
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            
                            <!-- æ—¥å¿—æ ‡é¢˜æ  -->
                            <Border Grid.Row="0" 
                                    Background="#F8F8F8" 
                                    BorderBrush="#E0E0E0"
                                    BorderThickness="0,0,0,1"
                                    CornerRadius="8,8,0,0"
                                    Padding="16,12">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" 
                                             Text="ðŸ“‹ è°ƒè¯•æ—¥å¿—" 
                                             FontSize="14"
                                             FontWeight="SemiBold" 
                                             Foreground="#333333"
                                             VerticalAlignment="Center"/>
                                    <Button Grid.Column="1"
                                            x:Name="ButtonClearLog"
                                            Content="ðŸ—‘ï¸ æ¸…ç©º"
                                            Padding="12,6"
                                            FontSize="12"
                                            Background="#F3F3F3"
                                            Foreground="#666666"
                                            BorderBrush="#D0D0D0"
                                            BorderThickness="1"
                                            Cursor="Hand"
                                            Click="ButtonClearLog_Click">
                                        <Button.Template>
                                            <ControlTemplate TargetType="Button">
                                                <Border x:Name="border"
                                                        Background="{TemplateBinding Background}"
                                                        BorderBrush="{TemplateBinding BorderBrush}"
                                                        BorderThickness="{TemplateBinding BorderThickness}"
                                                        CornerRadius="4"
                                                        Padding="{TemplateBinding Padding}">
                                                    <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                </Border>
                                                <ControlTemplate.Triggers>
                                                    <Trigger Property="IsMouseOver" Value="True">
                                                        <Setter TargetName="border" Property="Background" Value="#E8E8E8"/>
                                                    </Trigger>
                                                </ControlTemplate.Triggers>
                                            </ControlTemplate>
                                        </Button.Template>
                                    </Button>
                                </Grid>
                            </Border>
                            
                            <!-- æ—¥å¿—å†…å®¹ -->
                            <ScrollViewer Grid.Row="1" 
                                        x:Name="LogScrollViewer"
                                        VerticalScrollBarVisibility="Auto"
                                        HorizontalScrollBarVisibility="Auto"
                                        Background="#FAFAFA">
                                <TextBox x:Name="TextBoxLog"
                                       IsReadOnly="True"
                                       TextWrapping="Wrap"
                                       BorderThickness="0"
                                       Background="Transparent"
                                       Padding="16"
                                       FontFamily="Consolas"
                                       FontSize="11"
                                       Foreground="#333333"
                                       Text="æ—¥å¿—å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ..."/>
                            </ScrollViewer>
                        </Grid>
                    </Border>
                </Grid>
            </TabItem>

            <!-- LLMæƒ…æ„Ÿåˆ†æž Tab -->
            <TabItem Header="ðŸ¤– LLMæƒ…æ„Ÿåˆ†æž" Style="{StaticResource ModernTabItem}">
                <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="24,20">
                    <StackPanel>
                        <!-- åŠŸèƒ½å¼€å…³å¡ç‰‡ -->
                        <Border Style="{StaticResource SettingCard}">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0">
                                    <TextBlock Text="å¯ç”¨LLMæƒ…æ„Ÿåˆ†æž" 
                                             FontSize="14" 
                                             FontWeight="Medium" 
                                             Foreground="#333333"/>
                                    <TextBlock Text="ä½¿ç”¨å¤§è¯­è¨€æ¨¡åž‹åˆ†æžVPetè¯´è¯å†…å®¹ï¼Œè‡ªåŠ¨é€‰æ‹©åŒ¹é…çš„è¡¨æƒ…åŒ…" 
                                             Style="{StaticResource DescriptionText}"
                                             Margin="0,4,0,0"/>
                                </StackPanel>
                                <pu:Switch x:Name="SwitchEmotionAnalysis" 
                                         Grid.Column="1"
                                         Background="Transparent"
                                         BorderBrush="#D0D0D0"
                                         BoxHeight="24" 
                                         BoxWidth="48"
                                         CheckedBackground="#0078D4"
                                         CheckedBorderBrush="#0078D4"
                                         CheckedToggleBrush="White"
                                         ToggleBrush="#999999"
                                         ToggleShadowColor="{x:Null}"
                                         ToggleSize="20"
                                         Checked="SwitchEmotionAnalysis_Changed"
                                         Unchecked="SwitchEmotionAnalysis_Changed"
                                         VerticalAlignment="Center"/>
                            </Grid>
                        </Border>

                        <!-- ç²¾ç¡®è¡¨æƒ…åŒ…åŒ¹é…å¡ç‰‡ -->
                        <Border Style="{StaticResource SettingCard}">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0">
                                    <TextBlock Text="æ›´åŠ ç²¾ç¡®çš„ä½¿ç”¨è¡¨æƒ…åŒ…" 
                                             FontSize="14" 
                                             FontWeight="Medium" 
                                             Foreground="#333333"/>
                                    <TextBlock Text="ä½¿ç”¨label.jsonæ ‡ç­¾æ–‡ä»¶è¿›è¡Œç²¾ç¡®åŒ¹é…ï¼Œè®©LLMè¿”å›žæ ‡ç­¾å¹¶åŒ¹é…å¯¹åº”çš„è¡¨æƒ…åŒ…å›¾ç‰‡" 
                                             Style="{StaticResource DescriptionText}"
                                             Margin="0,4,0,0"/>
                                </StackPanel>
                                <pu:Switch x:Name="SwitchAccurateImageMatching" 
                                         Grid.Column="1"
                                         Background="Transparent"
                                         BorderBrush="#D0D0D0"
                                         BoxHeight="24" 
                                         BoxWidth="48"
                                         CheckedBackground="#0078D4"
                                         CheckedBorderBrush="#0078D4"
                                         CheckedToggleBrush="White"
                                         ToggleBrush="#999999"
                                         ToggleShadowColor="{x:Null}"
                                         ToggleSize="20"
                                         Checked="SwitchAccurateImageMatching_Changed"
                                         Unchecked="SwitchAccurateImageMatching_Changed"
                                         VerticalAlignment="Center"/>
                            </Grid>
                        </Border>

                        <!-- LLMæä¾›å•†é€‰æ‹©å¡ç‰‡ -->
                        <Border Style="{StaticResource SettingCard}">
                            <StackPanel>
                                <TextBlock Text="LLMæä¾›å•†" Style="{StaticResource SectionTitle}"/>
                                <ComboBox x:Name="ComboBoxLLMProvider"
                                        FontSize="14"
                                        Padding="12,8"
                                        SelectionChanged="ComboBoxLLMProvider_SelectionChanged">
                                    <ComboBoxItem Content="OpenAI" Tag="openai"/>
                                    <ComboBoxItem Content="Google Gemini" Tag="gemini"/>
                                    <ComboBoxItem Content="Ollama (æœ¬åœ°)" Tag="ollama"/>
                                </ComboBox>
                                <TextBlock Text="é€‰æ‹©ç”¨äºŽæƒ…æ„Ÿåˆ†æžçš„LLMæœåŠ¡" 
                                         Style="{StaticResource DescriptionText}"
                                         Margin="0,8,0,0"/>
                            </StackPanel>
                        </Border>

                        <!-- OpenAIé…ç½®å¡ç‰‡ -->
                        <Border x:Name="PanelOpenAI" Style="{StaticResource SettingCard}">
                            <StackPanel>
                                <TextBlock Text="OpenAI é…ç½®" Style="{StaticResource SectionTitle}"/>
                                
                                <TextBlock Text="API Key" 
                                         FontSize="13" 
                                         Foreground="#666666"
                                         Margin="0,0,0,6"/>
                                <TextBox x:Name="TextBoxOpenAIKey"
                                       FontSize="13"
                                       Padding="10,8"
                                       FontFamily="Consolas"
                                       TextChanged="TextBoxOpenAIKey_TextChanged"/>
                                
                                <TextBlock Text="Base URL (å¯é€‰)" 
                                         FontSize="13" 
                                         Foreground="#666666"
                                         Margin="0,12,0,6"/>
                                <TextBox x:Name="TextBoxOpenAIBaseUrl"
                                       FontSize="13"
                                       Padding="10,8"
                                       FontFamily="Consolas"
                                       Text="https://api.openai.com/v1"
                                       TextChanged="TextBoxOpenAIBaseUrl_TextChanged"/>
                                
                                <TextBlock Text="ðŸ’¡ æ”¯æŒ OpenAIã€OpenRouterã€OneAPI ç­‰å…¼å®¹ API" 
                                         Style="{StaticResource DescriptionText}"
                                         Margin="0,4,0,0"/>
                                
                                <Grid Margin="0,12,0,0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <StackPanel Grid.Column="0">
                                        <TextBlock Text="æ¨¡åž‹" 
                                                 FontSize="13" 
                                                 Foreground="#666666"
                                                 Margin="0,0,0,6"/>
                                        <ComboBox x:Name="ComboBoxOpenAIModel"
                                                FontSize="13"
                                                Padding="10,8"
                                                IsEditable="True"
                                                Text="gpt-3.5-turbo"
                                                SelectionChanged="ComboBoxOpenAIModel_SelectionChanged"
                                                LostFocus="ComboBoxOpenAIModel_LostFocus"/>
                                    </StackPanel>
                                    <Button Grid.Column="1"
                                            x:Name="ButtonFetchOpenAIModels"
                                            Content="ðŸ” èŽ·å–æ¨¡åž‹"
                                            Style="{StaticResource SecondaryButton}"
                                            Click="ButtonFetchOpenAIModels_Click"
                                            VerticalAlignment="Bottom"
                                            Margin="8,0,0,0"
                                            Padding="12,8"/>
                                </Grid>
                                
                                <TextBlock TextWrapping="Wrap"
                                         Style="{StaticResource DescriptionText}"
                                         Margin="0,8,0,0">
                                    <Run Text="ðŸ’¡ èŽ·å–API Key: https://platform.openai.com/api-keys" />
                                    <LineBreak/>
                                    <Run Text="ç¬¬ä¸‰æ–¹API: OpenRouter (openrouter.ai/api/v1) | OneAPI (your-domain/v1)" />
                                </TextBlock>
                            </StackPanel>
                        </Border>

                        <!-- Geminié…ç½®å¡ç‰‡ -->
                        <Border x:Name="PanelGemini" Style="{StaticResource SettingCard}" Visibility="Collapsed">
                            <StackPanel>
                                <TextBlock Text="Google Gemini é…ç½®" Style="{StaticResource SectionTitle}"/>
                                
                                <TextBlock Text="API Key" 
                                         FontSize="13" 
                                         Foreground="#666666"
                                         Margin="0,0,0,6"/>
                                <TextBox x:Name="TextBoxGeminiKey"
                                       FontSize="13"
                                       Padding="10,8"
                                       FontFamily="Consolas"
                                       TextChanged="TextBoxGeminiKey_TextChanged"/>
                                
                                <TextBlock Text="Base URL (å¯é€‰)" 
                                         FontSize="13" 
                                         Foreground="#666666"
                                         Margin="0,12,0,6"/>
                                <TextBox x:Name="TextBoxGeminiBaseUrl"
                                       FontSize="13"
                                       Padding="10,8"
                                       FontFamily="Consolas"
                                       Text="https://generativelanguage.googleapis.com/v1beta"
                                       TextChanged="TextBoxGeminiBaseUrl_TextChanged"/>
                                
                                <Grid Margin="0,12,0,0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <StackPanel Grid.Column="0">
                                        <TextBlock Text="æ¨¡åž‹" 
                                                 FontSize="13" 
                                                 Foreground="#666666"
                                                 Margin="0,0,0,6"/>
                                        <ComboBox x:Name="ComboBoxGeminiModel"
                                                FontSize="13"
                                                Padding="10,8"
                                                IsEditable="True"
                                                Text="gemini-pro"
                                                SelectionChanged="ComboBoxGeminiModel_SelectionChanged"
                                                LostFocus="ComboBoxGeminiModel_LostFocus"/>
                                    </StackPanel>
                                    <Button Grid.Column="1"
                                            x:Name="ButtonFetchGeminiModels"
                                            Content="ðŸ” èŽ·å–æ¨¡åž‹"
                                            Style="{StaticResource SecondaryButton}"
                                            Click="ButtonFetchGeminiModels_Click"
                                            VerticalAlignment="Bottom"
                                            Margin="8,0,0,0"
                                            Padding="12,8"/>
                                </Grid>
                                
                                <TextBlock Text="ðŸ’¡ èŽ·å–API Key: https://makersuite.google.com/app/apikey" 
                                         Style="{StaticResource DescriptionText}"
                                         Margin="0,8,0,0"/>
                            </StackPanel>
                        </Border>

                        <!-- Ollamaé…ç½®å¡ç‰‡ -->
                        <Border x:Name="PanelOllama" Style="{StaticResource SettingCard}" Visibility="Collapsed">
                            <StackPanel>
                                <TextBlock Text="Ollama é…ç½®" Style="{StaticResource SectionTitle}"/>
                                
                                <TextBlock Text="Base URL" 
                                         FontSize="13" 
                                         Foreground="#666666"
                                         Margin="0,0,0,6"/>
                                <TextBox x:Name="TextBoxOllamaBaseUrl"
                                       FontSize="13"
                                       Padding="10,8"
                                       FontFamily="Consolas"
                                       Text="http://localhost:11434"
                                       TextChanged="TextBoxOllamaBaseUrl_TextChanged"/>
                                
                                <Grid Margin="0,12,0,0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <StackPanel Grid.Column="0">
                                        <TextBlock Text="æ¨¡åž‹" 
                                                 FontSize="13" 
                                                 Foreground="#666666"
                                                 Margin="0,0,0,6"/>
                                        <ComboBox x:Name="ComboBoxOllamaModel"
                                                FontSize="13"
                                                Padding="10,8"
                                                IsEditable="True"
                                                Text="llama2"
                                                SelectionChanged="ComboBoxOllamaModel_SelectionChanged"
                                                LostFocus="ComboBoxOllamaModel_LostFocus"/>
                                    </StackPanel>
                                    <Button Grid.Column="1"
                                            x:Name="ButtonFetchOllamaModels"
                                            Content="ðŸ” èŽ·å–æ¨¡åž‹"
                                            Style="{StaticResource SecondaryButton}"
                                            Click="ButtonFetchOllamaModels_Click"
                                            VerticalAlignment="Bottom"
                                            Margin="8,0,0,0"
                                            Padding="12,8"/>
                                </Grid>
                                
                                <TextBlock Text="ðŸ’¡ ç¡®ä¿OllamaæœåŠ¡å·²åœ¨æœ¬åœ°è¿è¡Œï¼ŒæŽ¨èæ¨¡åž‹ï¼šllama3, mistral, llama2" 
                                         Style="{StaticResource DescriptionText}"
                                         Margin="0,8,0,0"/>
                            </StackPanel>
                        </Border>

                        <!-- æ ‡ç­¾æ–‡ä»¶è¯´æ˜Žå¡ç‰‡ -->
                        <!-- <Border Style="{StaticResource SettingCard}">
                            <StackPanel>
                                <TextBlock Text="ðŸ“ æ ‡ç­¾æ–‡ä»¶é…ç½®" Style="{StaticResource SectionTitle}"/>
                                <TextBlock TextWrapping="Wrap" 
                                         FontSize="13"
                                         Foreground="#666666"
                                         LineHeight="20">
                                    <Run Text="åœ¨è¡¨æƒ…åŒ…ç›®å½•ä¸­åˆ›å»º "/>
                                    <Run Text="label.txt" FontWeight="SemiBold" FontFamily="Consolas" Foreground="#0078D4"/>
                                    <Run Text=" æ–‡ä»¶ï¼Œæ ¼å¼ï¼š"/>
                                    <LineBreak/>
                                    <LineBreak/>
                                    <Run Text="æ–‡ä»¶å.png: æ ‡ç­¾1, æ ‡ç­¾2, æ ‡ç­¾3" FontFamily="Consolas" Background="#F5F5F5"/>
                                    <LineBreak/>
                                    <LineBreak/>
                                    <Run Text="ç¤ºä¾‹ï¼š"/>
                                    <LineBreak/>
                                    <Run Text="happy_1.png: happy, joyful, excited, å¼€å¿ƒ" FontFamily="Consolas" Background="#F5F5F5"/>
                                    <LineBreak/>
                                    <Run Text="sad_1.png: sad, unhappy, depressed, ä¼¤å¿ƒ" FontFamily="Consolas" Background="#F5F5F5"/>
                                </TextBlock>
                            </StackPanel>
                        </Border> -->
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
        </TabControl>
        
        <!-- åº•éƒ¨æŒ‰é’®æ  -->
        <Border Grid.Row="2" 
                Background="White" 
                BorderBrush="#E0E0E0" 
                BorderThickness="0,1,0,0"
                Padding="24,16">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <!-- å·¦ä¾§æµ‹è¯•æŒ‰é’® -->
                <StackPanel Grid.Column="0" 
                            Orientation="Horizontal"
                            HorizontalAlignment="Left">
                    <Button x:Name="ButtonTestDisplay"
                            Content="ðŸŽ­ æµ‹è¯•æ˜¾ç¤ºè¡¨æƒ…åŒ…"
                            Style="{StaticResource SecondaryButton}"
                            Click="ButtonTestDisplay_Click"
                            ToolTip="ç«‹å³æ˜¾ç¤ºä¸€ä¸ªéšæœºè¡¨æƒ…åŒ…è¿›è¡Œæµ‹è¯•"/>
                </StackPanel>
                
                <!-- å³ä¾§æ“ä½œæŒ‰é’® -->
                <StackPanel Grid.Column="1" 
                            Orientation="Horizontal">
                    <Button x:Name="ButtonSave"
                            Content="ðŸ’¾ ä¿å­˜è®¾ç½®"
                            Style="{StaticResource PrimaryButton}"
                            Click="ButtonSave_Click"
                            Margin="0,0,12,0"/>
                    
                    <Button x:Name="ButtonReset"
                            Content="ðŸ”„ é‡ç½®"
                            Style="{StaticResource SecondaryButton}"
                            Click="ButtonReset_Click"
                            Margin="0,0,12,0"/>
                    
                    <Button x:Name="ButtonCancel"
                            Content="âœ–ï¸ å–æ¶ˆ"
                            Style="{StaticResource SecondaryButton}"
                            Click="ButtonCancel_Click"/>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</pu:WindowX>
